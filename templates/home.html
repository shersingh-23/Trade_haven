{% extends 'base.html' %}
{% block title %}Welcome to TradeHaven{% endblock %}

{% block content %}
<section class="max-w-7xl mx-auto px-6 py-16 flex flex-col md:flex-row gap-10">
  <div class=" p-10 rounded-2xl shadow-neon flex-1">
    <h2 class="text-4xl font-bold mb-6 text-center">Welcome to<br></h2>
    <h2 class="text-4xl font-bold mb-12 text-center ">TradeHaven</h2>
    <p class=" mb-12 ms-6 mt-10 text-center">Experience secure, lightning-fast, and dependable trading at
      your fingertips with real-time market insights to help you stay ahead of the curve.</p>
    <a href="/dashboard"
      class="bg-primary text-black px-6 py-3 ms-[200px] font-semibold rounded-full shadow-lg hover:bg-orange-500">Explore
      Now</a>
  </div>
  <div class=" p-6 rounded-2xl shadow-neon flex-1 text-center">
    <h3 class="text-xl  mb-1">Sensex Current Price</h3>
    <p class="text-4xl  font-bold mb-4">₹{{ sensex_price }}</p>
    <canvas id="sensexChart" class=""></canvas>
  </div>
</section>

<section class="max-w-7xl mx-auto px-6 py-10">
  <div class=" p-6 rounded-2xl shadow-neon">
    <h2 class="text-2xl  font-bold mb-4">Stock Data</h2>
    <div class="overflow-x-auto">
      <table class="w-full text-center table-auto border-collapse">
        <thead class=" ">
          <tr>
            <th class="py-3">#</th>
            <th>ID</th>
            <th>Date</th>
            <th>From</th>
            <th>To</th>
            <th>Market</th>
            <th>Amount</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          {% for tx in transactions %}
          <tr class="border-b border-gray-600">
            <td class="py-2">{{ loop.index }}</td>
            <td>#T2025{{ tx.id }}</td>
            <td>{{ tx.date }}</td>
            <td>{{ tx.from_name }}</td>
            <td>{{ tx.to_name }}</td>
            <td>{{ tx.market }}</td>
            <td>₹{{ "%.2f"|format(tx.amount) }}</td>
            <td
              class="{% if tx.status == 'Completed' %}text-green-400{% elif tx.status == 'Pending' %}text-yellow-300{% else %}text-red-400{% endif %}">
              {{ tx.status }}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</section>

<section class="max-w-7xl mx-auto px-6 py-10">
  <h2 class="text-2xl  font-bold text-center mb-6">User Feedback</h2>
  <div class="flex flex-col md:flex-row justify-around gap-6">
    <div class=" p-6 rounded-xl text-center shadow-neon">
      "I love how easy it is to place trades. TradeHaven’s insights help me act quickly and stay informed."<br><span
        class=" font-semibold">– Sher Singh</span>
    </div>
    <div class=" p-6 rounded-xl text-center shadow-neon">
      TradeHaven gives me the tools I need. It’s reliable, intuitive, and keeps me connected to the market<br><span
        class=" font-semibold">– Hemant</span>
    </div>
    <div class=" p-6 rounded-xl text-center shadow-neon">
      "Trading feels effortless now. Thanks to TradeHaven, I make smarter choices with up-to-date data."<br><span
        class=" font-semibold">– Tarun</span>
    </div>
  </div>
</section>

<section class="max-w-4xl mx-auto px-6 py-12 text-center  rounded-2xl shadow-neon mb-12">
  <h2 class="text-2xl  font-bold mb-4">About TradeHaven</h2>
  <p class="">TradeHaven is an intuitive platform that allows traders to track, buy, and sell stocks with
    ease, offering real-time data and advanced trading tools.</p>
</section>

<footer class="text-center text-gray-500 py-4 border-t border-gray-700">
  © 2025 TradeHaven. All Rights Reserved.
</footer>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const ctx = document.getElementById('sensexChart');
  new Chart(ctx, {
    type: 'line',
    data: {
      labels: {{ chart_labels| tojson }},
    datasets: [{
      label: 'Sensex',
      data: {{ chart_data| tojson }},
    borderColor: 'orange',
    backgroundColor: 'rgba(255,165,0,0.05)',
    tension: 0.4
        }]
    },
    options: {
    plugins: {
      legend: { display: false }
    },
    scales: {
      x: { ticks: { color: '#FFA500' } },
      y: { ticks: { color: '#FFA500' } }
    }
  }
});
</script>
{% endblock %}